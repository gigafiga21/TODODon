!function(P){var t={};function e(r){if(t[r])return t[r].exports;var Y=t[r]={i:r,l:!1,exports:{}};return P[r].call(Y.exports,Y,Y.exports,e),Y.l=!0,Y.exports}e.m=P,e.c=t,e.d=function(P,t,r){e.o(P,t)||Object.defineProperty(P,t,{enumerable:!0,get:r})},e.r=function(P){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},e.t=function(P,t){if(1&t&&(P=e(P)),8&t)return P;if(4&t&&"object"==typeof P&&P&&P.__esModule)return P;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:P}),2&t&&"string"!=typeof P)for(var Y in P)e.d(r,Y,function(t){return P[t]}.bind(null,Y));return r},e.n=function(P){var t=P&&P.__esModule?function(){return P.default}:function(){return P};return e.d(t,"a",t),t},e.o=function(P,t){return Object.prototype.hasOwnProperty.call(P,t)},e.p="",e(e.s=0)}([function(P,t,e){e(1);const r=e(2),Y=e(4),s=e(6),{Comment:n}=e(7),{Table:o}=e(8);function d(P){let t=[];for(const e of P)for(const P of e.comments)t.push(new n(P,e.fileName));return t}function i(P,t){let e=new o(["!","user","date","comment","file name"],P.map(P=>(function(P){return{"!":P.importance?"!":"",user:P.user,date:P.date,comment:P.text,"file name":P.file}})(P)));e.setSplit(!t),e.setMaxColumnLength([1,10,10,50,15]),e.setMinColumnLength([1,6,10,20,9]),e.draw()}new class{initSettings(){this.cutTableRows=!0,this.drawFrame=!1}constructor(){if(process.argv.length<3)return void process.exit(0);Y.onEnd(this.processCommand.bind(null,"exit")),this.initSettings(),this.files=r.getAllFilePathsWithExtension(process.cwd(),"js").map(P=>{let t=new r.File(P);return t.readin(),t});let P=e(9).split("$$");this.respects={92:P[0],47:P[1]},this.processCommand(process.argv.slice(2)),process.exit(0)}processCommand(P){let t,e=1;for(;e<P.length;)if("-"==P[e][0]){switch(P[e]){case"-nocut":this.cutTableRows=!1;break;default:Y.writeLine('Unrecognized flag "'+P[e]+'". Skipping...')}P.splice(e,1)}else e++;switch(P[0]){case"show":t=d(s.searchTODO(this.files)),i.call(this,t,this.cutTableRows);break;case"important":t=d(s.searchTODO(this.files,"!")),i.call(this,t,this.cutTableRows);break;case"user":t=d(s.searchTODO(this.files,P[1])),i.call(this,t,this.cutTableRows);break;case"sort":t=s.sortTODO(d(s.searchTODO(this.files)),P[1]),i.call(this,t,this.cutTableRows);break;case"date":t=s.organizeTODO(d(s.searchTODO(this.files)),"date",P[1]),i.call(this,t,this.cutTableRows);break;case"F":Y.writeLine("Respects payed\n");let e=0;for(const P in this.respects)P<=process.stdout.columns&&P>e&&(e=P);Y.writeLine(this.respects[e]);break;default:Y.writeLine("Wrong command"),process.exit(0)}this.initSettings()}}},function(P,t){P.exports=require("path")},function(P,t,e){const r=e(3);P.exports={File:class{constructor(P){this.path=P}readin(){var P;this.content=(P=this.path,r.readFileSync(P,"utf8"))}},getAllFilePathsWithExtension:function P(t,e,Y){Y=Y||[];const s=r.readdirSync(t);for(const n of s){const s=t+"/"+n;r.statSync(s).isDirectory()?P(s,e,Y):s.endsWith(`.${e}`)&&Y.push(s)}return Y}}},function(P,t){P.exports=require("fs")},function(P,t,e){const r=e(5).createInterface({input:process.stdin,output:process.stdout,terminal:!1});P.exports={readLine:function(P){r.on("line",P)},writeLine:function(P){process.stdout.write(P+"\n")},write:function(P){process.stdout.write(P)},onEnd:function(P){r.on("SIGINT",P)}}},function(P,t){P.exports=require("readline")},function(P,t){P.exports={searchTODO:function(P,t){let e,r=[];switch(t){case void 0:e=/\/\/[\t ]*TODO ?:? *.*\n/gi;break;case"!":e=/\/\/[\t ]*TODO ?:? *[^\n]*!.*\n/gi;break;default:e=RegExp("//[\t ]*TODO ?:? *"+t+"[^;\n]*;.*\n","ig")}for(const t of P){let P,Y=[];for(t.content+="\n";P=e.exec(t.content);)Y.push(P[0].substring(0,P[0].length-1));if(Y.length){let P=t.path.split("/");r.push({fileName:P[P.length-1],comments:Y})}}return r},sortTODO:function(P,t){return P.sort((P,e)=>{let r=P[t],Y=e[t];return"string"==typeof r&&(r=r.toLowerCase(),Y=Y.toLowerCase()),r>Y?-1:r==Y?0:1})},organizeTODO:function(P,t,e){let r=[];for(const Y of P)if(Y[t]>e){let P=0;for(;P<r.length&&r[P][t]>Y[t];)P++;r.splice(P,0,Y)}return r}}},function(P,t){P.exports={Comment:class{constructor(P,t){P=function(P){const t=/^\/\/[\t ]*TODO ?:? */gi;return t.exec(P),P.slice(t.lastIndex)}(P),this.importance=function(P){let t=P.indexOf("!",0),e=0;for(;-1!=t&&t<P.length;)t++,e++,t=P.indexOf("!",t);return e}(P),this.user=function(P){let t=P.indexOf(";");return-1==t?"":P.slice(0,t)}(P),this.date=function(P){const t=/; ?[\d-]*;/gi.exec(P);if(null==t)return"";const e=/\d/gi.exec(t[0]);return null==e?"":t[0].slice(e.index,t[0].length-1)}(P),this.text=function(P){let t=P.lastIndexOf(";");return P.slice(t+1).trim()}(P),this.file=t}}}},function(P,t){function e(P,t,e){let r=[];if(e)for(;P.length>0;)r.push(P.substr(0,t)),P=P.substr(t);else P.length>t?r.push(P.substr(0,t-3)+"..."):r.push(P);return r}function r(P,t,e,r,Y,s){process.stdout.write(e);for(let e=0;e<Y.length-1;e++)process.stdout.write(new Array(Y[e]+2*s).fill(P).join("")+t);process.stdout.write(new Array(Y[Y.length-1]+2*s).fill(P).join("")+r+"\n")}function Y(P,t,e,r,Y){let n=!1,o=0;for(;!n;){n=!0,process.stdout.write(r);for(let r=0;r<P.length-1;r++){const d=P[r][o]||"";process.stdout.write(e+d+s(t[r]-d.length)+e+Y),P[r][o+1]&&(n=!1)}const d=P[P.length-1][o]||"";process.stdout.write(e+d+s(t[t.length-1]-d.length)+e+r+"\n"),P[P.length-1][o+1]&&(n=!1),o++}}function s(P){return P<=0?"":new Array(P+1).join(" ")}P.exports={Table:class{constructor(P,t,e,r,Y,s){this.setData(P,t),this.setMinColumnLength(e),this.setMaxColumnLength(r),this.setSeparators(Y),this.setSplit(s)}setSplit(P){this.split=null==P||Boolean(P)}setSeparators(P){P=P||{},this.separators={},this.separators.vertical=void 0!==P.vertical?P.vertical:"│",this.separators.horizontal=void 0!==P.horizontal?P.horizontal:"",this.separators.verticalBorder=void 0!==P.verticalBorder?P.verticalBorder:"│",this.separators.horizontalBorder=void 0!==P.horizontalBorder?P.horizontalBorder:"─",this.separators.header=void 0!==P.header?P.header:"─",this.separators.space=P.space||2,this.separators.cross=void 0!==P.cross?P.cross:"┼",this.separators.topCross=void 0!==P.topCross?P.topCross:"┬",this.separators.rightCross=void 0!==P.rightCross?P.rightCross:"┤",this.separators.bottomCross=void 0!==P.bottomCross?P.bottomCross:"┴",this.separators.leftCross=void 0!==P.leftCross?P.leftCross:"├",this.separators.topLeft=void 0!==P.topLeft?P.topLeft:"┌",this.separators.topRight=void 0!==P.topRight?P.topRight:"┐",this.separators.bottomLeft=void 0!==P.bottomLeft?P.bottomLeft:"└",this.separators.bottomRight=void 0!==P.bottomRight?P.bottomRight:"┘"}setMaxColumnLength(P){this.maxLengths=P||new Array(this.headers.length).fill(1/0)}setMinColumnLength(P){this.minLengths=P||new Array(this.headers.length).fill(1)}setData(P,t){for(const e of t)for(const t of P)e[t]=String(e[t]);this.headers=P,this.data=t,this.enoughLengths=function(P,t){let e=[];for(let r=0;r<P.length;r++){e[r]=0;for(const Y of t){let t=Y[P[r]].length;e[r]<t&&(e[r]=t)}e[r]<P[r].length&&(e[r]=P[r].length)}return e}(P,t)}draw(){let P=[],t=0;for(let e=0;e<this.enoughLengths.length;e++)this.enoughLengths[e]>this.maxLengths[e]?P[e]=this.maxLengths[e]:P[e]=this.enoughLengths[e],t+=P[e]+2*this.separators.space+1;""!=this.separators.verticalBorder?t+=1:t-=1;let n=t-process.stdout.columns;if(n>0){let e=function(P,t,e){let r=0,Y=t.map((P,t)=>{let Y=P-e[t];return r+=Y,Y});return Y=Y.map(P=>P/r)}(0,P,this.minLengths);P=P.map((P,r)=>{let Y=Math.ceil(e[r]*n);return t-=Y,P-Y})}const o=s(this.separators.space),d=this.separators;d.horizontalBorder&&r(d.horizontalBorder,d.topCross,d.topLeft,d.topRight,P,d.space),Y(this.headers.map((t,r)=>e(t,P[r],this.split)),P,o,d.verticalBorder,d.vertical),""!=d.header?r(d.header,d.cross,d.leftCross,d.rightCross,P,d.space):""!=d.horizontal&&r(d.horizontal,t);for(const t of this.data)Y(this.headers.map((r,Y)=>e(t[r],P[Y],this.split)),P,o,d.verticalBorder,d.vertical),""!=d.horizontal&&r(d.horizontal,d.cross,d.leftCross,d.rightCross,P,d.space);d.horizontalBorder&&r(d.horizontalBorder,d.bottomCross,d.bottomLeft,d.bottomRight,P,d.space)}}}},function(P,t){P.exports="                                                  dd.'88PY8\".dd\r\n                                               .8\"PPY\"8YYYYY\"\"''d\r\n                                              'PPYPPPPPPYPPPPP\"8\"d\r\n                                             dYPYPPPPPPddPPPPPYP8'd\r\n                                             .YYPddPPYY888YYPPdPPPd\r\n                                         dddd,YPP8P88\"'''',''88YPYd\r\n                                 dddd.......,\"\"'\"\"8Y8',,,,,,''\"'',,\r\n                              ddd.ddd..'\"8888\"\"\"8PY8',,..,'\"YYY\",'''\r\n                        dddddd..d..,'88\"8\"8888'88\"8YYY\",.\"88YY8',,\"\"\r\n                       dd..dd...,'\"\"\"\"\"\"\"'\"'.,\"8\"',,,,,,.\"',,,,',,8.\r\n                    dd.......''''\"'','''.ddd d,'\"'....,..'\",,,'',,,\r\n                 d.,,.....,,,',.d.,'',dd     ddd\"',...'\"'\"8\"','',d\r\n             dd.,.......,,,',ddd  ddd          d,\"',,,,,,'\"\"'\"'',d\r\n          d.,.........,,'',d d                  d'\"',..,'''''\"\"'dd\r\n       dd,..........,,'',dddd                    d'''',.,,,\"\"8''.d\r\n    dd.,.........,,,'',dd    dd                 dd,'\"8\"''\"\"8888\",.\r\n   d.,........,,,''\"'dd      ddddd  dddddddd d.\"YYP8'''\"888\"\"\"\"\"\"PP'.d dd\r\n dd,........,,,''\"\"8\"',,..,,\"YPPPPYYPYYPPPPPPPPPPPPPPPPPPYYYYYPPPPYPPYYY8,dd\r\nd.,.........,,'\"88YY8\"''''''YYYPP8PYYPPPPPPPPPPPPYPYPPPPPY8YYPYYYPPPYYPPY88Y\",d\r\nd.....,....,,''\"8Y8\"'',,,,,,,'8Y8PPPPPPPPPPYPYYPYPPYYYPPPPPPPPPPPPYPPPYY888Y88YY\".d\r\ndd,,,,,,,,,''88\"'',,........,,\"Y8PPPPPP88YPYPPYYYYPPPPYYYYPPPY888YPPYPY8YYYY8YPPYY8\".\r\n  d.,,,,,,,,,,,,,,...........,'YYPPPPPPPP8PY8PPYP8PY88PYPPPPPPPYYPY8YYY8YY88YPYYYPPYY,d\r\n    dd,',,,'',,,,,,,,,,,...,,,,YYYPP8888YY88YPPPYYYYPY8YYYYPPY8PPYYYPPPPP88YPPPYYYY888'd\r\n      ddddd..,''''',,,,,,,,,'''8YPPPPPY88YPYPPPY88YY88YPPPPY888Y8YPPPYY888YPYPPPYYYPY88,\r\n              ddddd.,,'''''''\"YPPPPPPPPPYYYYPPP88YPPPPPPY88YPP8PYYY8YP8Y88YYYPYYYYPPP88\"d\r\n                         dddd'8'dd\"PPPPPPPPPP8YYYYYYPYYYY,'\"PP888YYPPPY88YYPYYYPPYPPPYY\"d\r\n                              dd   d\"P8PPPPYYYPPPPYYYPYP\"dd'P88Y8YPPYPPP8888YPPPPPPPPY8\".\r\n                                ddd.YYPPPYPPPYPPPPYPPPP'dd\"PYPYPPPYYYPPYPYYPPPPPPPPPPY8'd\r\n                                  d.YYPPPPYYYPPPYPPPYPPP88YYYYPPYYPYYYYYPPYPPdPPPPYYYY8,d\r\n                                   dPPPYYPPPPPPPPPPYPPPP..'PPYYYPYYPPPPYPPPPdPPYYYYY8\"',d\r\n                                   d8YY8YYPPYPYPPPPYYYPP..'PPY8PPYPPPPPPYPPPPY88\"\"\"\"\"'''.dd\r\n                                    \"PPPPPPPPYPYYYYPPPPPPPPPPPPPYPPPPPPPPPPPPY8\"'''''''',d\r\n                                    'YYPYPPPPPPPPPYPPPPYYPYPPPPPPPYPPPPPPPPP.Y8\"'''''\"\"\"'dd\r\n                                    'PP8PPPPYPPPPYYYYYPPPPPPPPPYPPPYYdPYPPP'd\"8\"''''\"\"\"\"\".\r\n                                    ,PPPPYPdPYY8YPPPPPY88YPYYPPPPPPPPPPPPPP. .8\"\"'''\"\"\"\"\",\r\n                                    .YPPYPPPPPPPYPPPYYYPPPPPYPPPPPPYPPPPPPPddd'\"\"''''\"\"\"\"'d\r\n                                    dYPPPPPPPPPdPPPPPPPPPPPPPPPPPYPPPPdPPPYd dd'\"\"\"''''\"\"'d\r\n$$\r\n                         ,YPYYYP8\"d\r\n                        dYYPPPPPPP8\r\n                    dddd.\"\"8\"',,'88d\r\n                dddd,\"888\"YY8,,YY\",\"d\r\n             d...,'\"'''.d\"',.,'',,,,\r\n         d.....,,dd.dd   d',.,'\"''.\r\n      d......,,dd         d',,''\"'d\r\n    d.....,''d   d       d,\"\"8888\"\".\r\n  d.....,'\"Y8\"'\"YPPYPPPPPPPPPPPPPPPPPY8'd\r\nd.,,,,'\"8\",...,'YPPPYPYPYYPYYPPYYPYYYYYYY\"d\r\n  d,,,,,,,....,,YPPYPPYYYYPYYPPYYPPPY8PPPYY'\r\n      dd.,,',''\"YPPYYYYY8PPYYYPYYYYYYYYPYPPY,\r\n            dddddd\"YPPYYYYYPYd8YYPYYYYYPPPP8' \r\n                  .PPPYPPPPPP\"YYPYYYPPPPPPYY\"d\r\n                  dYPYPPPPPPP.YPYPPPPPPPY8\"\"'d\r\n                  d8PYPPPPPPPYPPPPPPPPP8\"'''\",\r\n                   8PYPPYPPPYYPPPPPPPP\".8''\"\"'\r\n                   'PPPPPPYPPPPPPPPPPP'd,\"''\"\""}]);
